<mat-card class="userForm-card">
  <form [formGroup]="userForm" (ngSubmit)="updateUser()">
    <div>
      <mat-form-field>
        <input id="username" matInput placeholder="username" formControlName="username" required>
        <mat-error *ngIf="!userForm.controls.username.valid && userForm.controls.username.touched">
            Username required
        </mat-error>
      </mat-form-field>
      <div></div>
          <mat-form-field >
            <input id="email" matInput placeholder="email" type="text" formControlName="email" required>
            <mat-error *ngIf="userForm.controls.email.errors?.required && userForm.controls.email.touched">
              Email can't be empty
          </mat-error>
            <mat-error *ngIf="userForm.controls.email.invalid && userForm.controls.email.dirty">
              Email must be valid "xx@xx.xx"
          </mat-error>
          </mat-form-field>
        </div>
        <div>
            <mat-form-field >
              <input id="birthDate" matInput placeholder="Birthdate(mm/dd/yyyy)" formControlName="birthDate" required>
              <mat-error *ngIf="userForm.controls.birthDate.errors?.required && userForm.controls.birthDate.touched">
                Date cant be empty
              </mat-error>

              <mat-error *ngIf="userForm.controls.birthDate.invalid && userForm.controls.birthDate.dirty">
                Date must be mm/dd/yyyy
              </mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field >
              <input id="country" matInput placeholder="country" formControlName="country">
            </mat-form-field>
        </div>
      <button id="addPhoneNumber" type="button" mat-raised-button color="secondary" (click)="addPhoneNumber()">Add a phonenumber</button>
      <p></p>
    <div formArrayName="phoneNumbers">
      <div *ngFor="let phonenumberControl of userForm.controls.phoneNumbers.controls; let i=index">
          <div [formGroupName]="i">
            <mat-form-field>
              <input id="phonenumber" matInput placeholder="Phonenumber" formControlName="number" class="phoneNumber" pattern="^\d{8}$">
            </mat-form-field>
            </div>
      </div>
    </div>
    <button id="saveUser" mat-raised-button color="primary" style="width: 160px">Create User</button>
    <p style="font-size: 12px; color: gray"> Fields with * must be filled out</p>
  </form>
  </mat-card>
